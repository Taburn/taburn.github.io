<!DOCTYPE HTML>
<html>

<head>
  <title>Light Array 9</title>
  <meta name="description" content="Personal website of Adam Gulyas" />
  <meta name="keywords" content="Adam Gulyas, embedded engineer, hardware engineer, electronics" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="../style/style.css" title="style" />

  <!-- Favicon stuff -->
	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="../flavicon/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="../flavicon/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="../flavicon/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="../flavicon/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="../flavicon/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="../flavicon/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../flavicon/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../flavicon/favicon-16.png">
	<link rel="apple-touch-icon" href="../flavicon/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="../flavicon/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="../flavicon/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="../flavicon/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="../flavicon/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="../flavicon/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="../flavicon/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="../flavicon/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="../flavicon/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="../flavicon/favicon-144.png">
	<meta name="msapplication-config" content="../flavicon/browserconfig.xml">
	<!-- ****** faviconit.com favicons ****** -->

</head>

<body>
  <div id="main">
    <div id="header">
      <div id="logo">
        <div id="logo_text">
          <div id="logo_left">
		    <img src="../pictures/logo/logo_white.svg">
		  </div>
		  <div id="logo_right">
		    <h1><span class="logo_colour"><a href="index.html">Adam Gulyas</a></span></h1>
			<h2>Embedded Hardware Engineer</h2>
		  </div>
        </div>
      </div>
      <div id="menubar">
        <ul id="menu">
          <!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
          <li><a href="../index.html">Resume</a></li>
          <li class="selected"><a href="../projects.html">Projects</a></li>
		  <li><a href="../reference.html">Reference</a></li>
		  <li><a href="../journal.html">Journal</a></li>
		  <li><a href="../stories.html">Stories</a></li>
		  <li><a href="../contact.html">Contact</a></li>
        </ul>
      </div>
    </div>
    <div id="site_content">
      <div id="content">
		
        <h1>Light Array 9</h1>
		
		<p>This page is under construction.</p>
		
		<span class="center"><img src="../pictures/projects/Light_Array_9/(cover photo).png"/></span>
		
		<p>Brief description of project, what it is.</p>
		
		<h2>Motivation</h2>
		<p>Why did I build this?<br>
		Learn programming, first uC project I've made entirely by myself. Christmas gifts.</p>
		
		<!-- Example of image code
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_parameters.png"/></span>
		<p style="text-align:center"><i><a href="https://en.wikipedia.org/wiki/Envelope_(music)#/media/File:Casio_CZ_8stepENVchart_(CZ-1).jpg" target="_blank">Image from Wikipedia, CC BY-SA 3.0</a></i></p>
		-->
		
		<h2>Schematic</h2>		
		<p>schematic snippet here (can probably fit whole thing), followed by PDF download link)</p>
		
		<!--
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_sch_snippet.png"/></span>
		<p>The full schematics can be downloaded here:</p>
		
		<a href="../pictures/projects/ADSR/ADSR_MB_schematic.pdf" target="_blank">Motherboard Schematic (PDF)</a><br>
		<a href="../pictures/projects/ADSR/ADSR_UI_schematic.pdf" target="_blank">UI Schematic (PDF)</a><br><br>
		-->
		
		<p>Explain schematic</p>
		
		<h2>PCB</h2>
		<p>The main challenge for the PCB design was
		 - keeping it to 2 layers</p>
		
		
		<h2>Enclosure</h2>
		
		<h3>Assembly</h3>
		
		<p>Exploded view. Label parts and use those names throughout this journal.</p>
		<p> Getting USB jack to line up with cover, some knobs pinched</p>
		<p>Seam isn't tight, screw placement</p>
		<p>Part printing orientation, don't want supports (mention first version that had support
		over the entire front</p>
		
		<h3>Light Diffuser</h3>
		
		<p>Sanded Acrylic, translucent filament, different thicknesses. Picture of different things I printed. Thin white filament, seems strong enough.
		Brighter is sides of cell lined with aluminum tape, but time consuming.</p>
		
		<h3>Button</h3>
		<p>rubbing with enclosure due to seam in filament</p>
		
		
		
		<h3>Front Cover</h3>
		<h4>Heatset Inserts</h4>
		<p>Part number, dimensions of hole</h4>
		<h4>Variable Height Cover</h4>
		<h4>Knob pin clearance</h4>
		
		
		<h3>Back Cover (Name?)</h3>
		<h4>Programming Header clearance</h4>
		
		
		 
		<h2>Firmware</h2>
		
		<h3>.ioc Configuration</h3>
		
		<h4>Perph 1</h4>
		
		<h4>Perph 2</h4>
		
		<h3>main.c</h3>
		
		<p>See if there's a good way to include the non-auto-generated code</p>
		
		<h3>lib_WS2812C.c</h3>
		
		<h3>Debugging</h3>
		<p>Talk about using logic probe, all issues. Show Logic screenshot of it working.</p>
		
		<h2>Cost Analysis</h2>
		
		
		
		
		
		<p>The signal headers that go between the motherboard and UI board had to have the signals
		in the same order, which I solved by labeling every signal on both boards, then visually
		checking that they were the same in the multiboard assembly.</p>
		
		<h3>Motherboard</h3>
		<p>I was anticipating having to debug so I added testpoints to every node, ones big enough
		to rest the tip of an oscilloscope probe in. I also added a hole I could clip the ground probe to.</p>
		
		<p>I chose to use 4 layers:</p>
		
		 <table>
			<tr>
				<td>Components, Signal</td>
			</tr>
			<tr>
				<td>Ground</td>
			</tr>
			<tr>
				<td>Power, short Signal traces</td>
			</tr>
			<tr>
				<td>Ground</td>
			</tr>
		</table> 
		
		<p>This put a ground reference plane next to every signal trace. I thought about using just two layers, but there
		would have been too many power traces crossing under signal traces.</p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_MB_layers.png"/></span>
		
		<h3>UI Board</h3>
		<p>There's not much to say about this one other than I had to get the UI components in the right position.
		I did add a graphic of a cat:</p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_cat.png"/></span>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_UI_render.png"/></span>
		
		
		<h3>Faceplate</h3>
		<p>Since the PCBs were being sponsored by PCBWay, I wanted to do something that showed off thier
		manufacturing abilities that would be visable to the end user. I chose a pattern in the silkscreen
		that exposes the golden ENIG finish of the copper layer beneith it.</p>
		
		<p>I ended up drawing the pattern in QCAD, then importing it as a DXF into Altium. See below for pictures.</p>
		
		<h2>Multiboard</h2>
		
		<p>Altium lets you import multiple PCBs into a Multiboard assembly in order to check that they align mechanically:</p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_assembly_render_back.png"/></span>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_assembly_render_front.png"/></span>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_assembly_render_iso1.png"/></span>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_assembly_render_iso2.png"/></span>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_assembly_render_side.png"/></span>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_assembly_render_top.png"/></span>
		
		<h2>Mechanical</h2>
		<p>This module follows the eurorack standard, which mainly defines the size of the faceplate and what voltage
		rails are available. I had already researched this for previous modules and made a faceplate template that I used
		here to make sure it was the right size.
		
		<h2>Asssembly</h2>
		<p>Assembly went without issue. The footprints I made were easy to solder to and there weren't any clearance issues.</p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_FP_populated.png"/></span>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_assembled_side.png"/></span>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_MB_populated.png"/></span>
		
		<h2>Testing</h2>
		<p>I was fortunate in that the first module I assembled worked right away. There were no mistakes
		in my schematic or BOM, and my solder joints were all good. Below are some screen captures from my
		oscilloscope. The yellow trace is the clock signal I fed into the Gate input. The blue trace is the envelope from
		the ENV output.</p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_scope1.png"/></span>
		<p style="text-align:center"><i>A standard output.</i></p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_scope2.png"/></span>
		<p style="text-align:center"><i>A standard output, but with a sharper attack, higher sustain, and slower release.</i></p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_scope3.png"/></span>
		<p style="text-align:center"><i>The sharpest attack and release with the highest sustain produce a square wave.</i></p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_scope4.png"/></span>
		<p style="text-align:center"><i>A slow attack and no sustain produce a triangle/ramp wave.</i></p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_scope5.png"/></span>
		<p style="text-align:center"><i>A sharp attack and release with no sustain produce an impulse.</i></p>
		
		<h2>Conclusion</h2>
		<p>I think this project turned out pretty well. It will wait in my synth case until the other modules are ready.</p>
		
		
		<h2 id="PCBWay">PCBWay</h2>
		
		<span class="center"><img src="../pictures/projects/ADSR/PCBway_logo.png"/></span>
		
		<p>This project was sponsored by <a href="https://www.pcbway.com/" target="_blank">PCBWay</a>,
		who  provided for free the bare PCBs. The only thing they asked me to do was talk about my
		impressions of the PCBs I recieved, so here's some pictures I captured from my microscope:</p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_microscope_PCB.png"/></span>
		<p style="text-align:center"><i>A SOT23 footprint. You can see the indents on the pads where they used<br>
		a flying probe to test for any unwanted continuity between all the seperate copper areas.</i></p>
		
		<p>Flying probe machines are pretty cool.
		<a href="https://www.youtube.com/watch?v=2_4BJA-y50Q&t=33s" target="_blank">Here's a video showing one in action.</a></p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_microscope_swirl.png"/></span>
		<p style="text-align:center"><i>Arbitrary soldermask shapes show good definition. Points aren't rounded off.</i></p>
		
		<p>I also included a font test on the UI board. Only the smallest text was starting to blur.</p>
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_font_test.png"/></span>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_microscope_font_0.6_0.12mm.png"/></span>
		<p style="text-align:center"><i>Text: height = 0.6mm, stroke width = 0.12mm. Sufficiently legible.<br>
		Seperation between characters and strokes is clear.</i></p>
		
		<span class="center"><img src="../pictures/projects/ADSR/ADSR_microscope_font_0.5_0.1mm.png"/></span>
		<p style="text-align:center"><i>Text: height = 0.5mm, stroke width = 0.1mm.<br>
		Letters and strokes start to bleed into each other.</i></p>
		
		<p>One other detail that I appreciated was that the edge routing was smooth with no chatter or splinters,
		unlike some other boards I've received in the past.</p>
		
		<p>Overall it was very easy to work with PCBWay and I'm happy with the quality of the boards they provided.
		I'd recommend them to anyone looking to have their own PCB designs manufactured.</p>
		
		<a href="../projects.html">Back to Projects</a>
		
		  </div>
        </form>
      </div>
    </div>
    <div id="footer">
	
    </div>
  </div>
</body>
</html>
